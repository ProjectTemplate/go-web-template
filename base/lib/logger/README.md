## 日志打印

日志可以记录整个系统运行的信息。完整的日志可以方便排查问题。

打印日志的时候通过日志类别 `type` 区分日志的类型，不同类型的日志记录不同的信息。日志类型及描述如表格所示：

|类型|类型描述|日志级别|
|::|::|--|
|span|链路追踪日志|INFO 调用正常、ERROR 调用异常|
|log|普通业务日志|DEBUG、INFO、WARN、ERROR|

日志采集之后通过类型对不同的日志进行处理。

如 `span` 类型的日志用于描述系统服务之间的调用链路。通过对日志进行采集、处理、展示可以完整展示整个系统的调用链路。

> 注：把不同类型的日志打印到不同的日志文件，这样方便后续日志采集和分析。
>
> 先不拆分日志文件，先把日志内容打到同一个文件中，等后面需要的时候再拆分日志。



## 日志内容示例

**span类型日志内容示例**

```
A |==> B
  |==> C ==> D
```
调用链路日志：服务打印日志的时候，当前服务负责打印所有调用到的服务的耗时统计。如 A 服务负责打印调用 B、C 服务的耗时及相应结果。

```json
{
  "type": "span",
  "level":"info",
  "parentSpan": "1",
  "span": "1.1",
  "name": "redis",
  "startTimeStamp": "",
  "endTimestamp": "",
  "duration": 100,
  "tag": "请求的简要信息",
  "otherInfo": ""
}
```

**log类型日志内容示例**

```json
{
  "type": "log",
  "level": "info",
  "tag": "GetUserInfo",
  "otherInfo": "",
  "name":"ZS",
  "age":20
}
```